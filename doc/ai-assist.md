---------AI ASSISTANT DOCUMENTATION------------
- pay high significance to steps marked with AIMUST
- if num drives not specified explicitly - use 2
- When asked to provision cluster - if it is not clear whether test runs on physical environment or in cloud - clarify with user using ask_user tool while building the test plan
- Physical environment must specify network section, by subnet or by devices
- when provisioning a wekacluster follow this rules:
    - provision a wekacluster with test-autogenerated name
        - autogenerated part of name should not be longer then 16 characters
        - autogenerated name should start with test-
        - make sure to apply k8s wekacluster CR yaml to initiate provisioning of a cluster
        - autogenerated name should start with test- , be not longer then 32 characters and reflect the purpose, name should conform with K8s resource names
        - use python script execution to apply yaml, to avoid white-spacing issue, use method that is definitely reliable
        - wekacluster should follow documentation example and not remove any fields, but only adjust values as needed/add new fields, versions/pullsecrets including AIMUST
        - make sure to generate and apply k8s wekacluster CR yaml to initiate provisioning of a cluster AIMUST
            - generated cluster yaml MUST be fully built yaml that will not undergo anymore any modifications and will be applied AS IS AIMUST
- pay attention that wekcluster uses apiVersion: weka.weka.io/v1alpha1 api version AIMUST
- weka cli to get cluster status should be executed within any compute or drive container, weka local commands should be local to specific pod/wekacontainer
- if user param image does not specify repository - use quay.io/weka.io/weka-in-container:
- generate cluster name as a separate and early step, so it will be used by refernce in every later stage, including cluster create
- NEVER select wekacontainer or pod without filtering by specific cluster name (weka.io/cluster-name=wekacluster.metadata.name) or by specific container name
- when need to map weka-side container name to k8s-side container name - use wekacontainer.spec.name on k8s side, and if possible use separate steps, one for fetching weka-side container name, and another step for mapping them to k8s
- steps should be self sufficient and rely heavily on provided documentation AIMUST
- only namespace specified in test scenario should be used for all actions, if namespace is not specified explicitly - create a namespace with test- prefixed autogenerated name AIMUST
  - all resources should be placed within this namespace
- be EAGER to retry and re-build step request request if it fails before fully failing test execution AIMUST
- if instructions for cluster provision contain wording such as "configure", "set", "update" some parameter - it does not mean to apply cluster yaml and then re-configure cluster, but instead to adjust initial yaml to such requests. Update requests will be explicitly statet as update in broader context of such task AIMUST
- K8s resources yamls should be applied using kubectl apply -f file.yaml or other method that works against kubernetes API, just creating the files is never a purpose AIMUST
- helm should be executed via bash tool, and installation should be validated by validating all pods in NAMESPACE with label release=release: csi-CLUSTER_NAME reaching Running step within 1 minute after running `helm upgrade` #AIMUST
- When testing with gracefulDestroyDuration not set to 0s(when instructed explicitly by scenario) - do not use blocking kubectl delete as it will take hours to delete to finish, instead do non blocking deletion and then poll/process based on case needs
- node-shell plugin is available and can be used to fetch information from node by executing kubectl node-shell node/NODE_NAME -- COMMAND
  ---------END OF AI ASSISTANT DOCUMENTATION------------
